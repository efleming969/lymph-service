"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const HTTP_1 = require("./HTTP");
test("getting json data from remote service", function () {
    const http = new HTTP_1.default("https://httpbin.org");
    return http.get("/get?name=foobar").then(function (data) {
        expect(data.args).toEqual({
            name: "foobar"
        });
    });
});
test("posting json data to remote service", function () {
    const http = new HTTP_1.default("https://httpbin.org");
    return http.post("/post", { name: "foobar" }).then(function (response) {
        expect(response.status).toEqual(200);
        expect(response.body.json).toEqual({
            name: "foobar"
        });
    });
});
test("handling an error when posting to invalid uri", function () {
    const http = new HTTP_1.default("https://httpbin.org");
    return http.post("/invalid", {}).then(function (response) {
        expect(response.status).toEqual(404);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSFRUUC50ZXN0cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkhUVFAudGVzdHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxpQ0FBeUI7QUFFekIsSUFBSSxDQUFFLHVDQUF1QyxFQUFFO0lBQzNDLE1BQU0sSUFBSSxHQUFHLElBQUksY0FBSSxDQUFFLHFCQUFxQixDQUFFLENBQUE7SUFFOUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUUsa0JBQWtCLENBQUUsQ0FBQyxJQUFJLENBQUUsVUFBVyxJQUFJO1FBQ3ZELE1BQU0sQ0FBRSxJQUFJLENBQUMsSUFBSSxDQUFFLENBQUMsT0FBTyxDQUFFO1lBQ3pCLElBQUksRUFBRSxRQUFRO1NBQ2pCLENBQUUsQ0FBQTtJQUNQLENBQUMsQ0FBRSxDQUFBO0FBQ1AsQ0FBQyxDQUFFLENBQUE7QUFFSCxJQUFJLENBQUUscUNBQXFDLEVBQUU7SUFDekMsTUFBTSxJQUFJLEdBQUcsSUFBSSxjQUFJLENBQUUscUJBQXFCLENBQUUsQ0FBQTtJQUU5QyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLENBQUUsQ0FBQyxJQUFJLENBQUUsVUFBVyxRQUFRO1FBQ3JFLE1BQU0sQ0FBRSxRQUFRLENBQUMsTUFBTSxDQUFFLENBQUMsT0FBTyxDQUFFLEdBQUcsQ0FBRSxDQUFBO1FBQ3hDLE1BQU0sQ0FBRSxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxDQUFDLE9BQU8sQ0FBRTtZQUNsQyxJQUFJLEVBQUUsUUFBUTtTQUNqQixDQUFFLENBQUE7SUFDUCxDQUFDLENBQUUsQ0FBQTtBQUNQLENBQUMsQ0FBRSxDQUFBO0FBRUgsSUFBSSxDQUFFLCtDQUErQyxFQUFFO0lBQ25ELE1BQU0sSUFBSSxHQUFHLElBQUksY0FBSSxDQUFFLHFCQUFxQixDQUFFLENBQUE7SUFFOUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsVUFBVSxFQUFFLEVBQUUsQ0FBRSxDQUFDLElBQUksQ0FBRSxVQUFXLFFBQVE7UUFDeEQsTUFBTSxDQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUUsQ0FBQyxPQUFPLENBQUUsR0FBRyxDQUFFLENBQUE7SUFDNUMsQ0FBQyxDQUFFLENBQUE7QUFDUCxDQUFDLENBQUUsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBIVFRQIGZyb20gXCIuL0hUVFBcIlxuXG50ZXN0KCBcImdldHRpbmcganNvbiBkYXRhIGZyb20gcmVtb3RlIHNlcnZpY2VcIiwgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGh0dHAgPSBuZXcgSFRUUCggXCJodHRwczovL2h0dHBiaW4ub3JnXCIgKVxuXG4gICAgcmV0dXJuIGh0dHAuZ2V0KCBcIi9nZXQ/bmFtZT1mb29iYXJcIiApLnRoZW4oIGZ1bmN0aW9uICggZGF0YSApIHtcbiAgICAgICAgZXhwZWN0KCBkYXRhLmFyZ3MgKS50b0VxdWFsKCB7XG4gICAgICAgICAgICBuYW1lOiBcImZvb2JhclwiXG4gICAgICAgIH0gKVxuICAgIH0gKVxufSApXG5cbnRlc3QoIFwicG9zdGluZyBqc29uIGRhdGEgdG8gcmVtb3RlIHNlcnZpY2VcIiwgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGh0dHAgPSBuZXcgSFRUUCggXCJodHRwczovL2h0dHBiaW4ub3JnXCIgKVxuXG4gICAgcmV0dXJuIGh0dHAucG9zdCggXCIvcG9zdFwiLCB7IG5hbWU6IFwiZm9vYmFyXCIgfSApLnRoZW4oIGZ1bmN0aW9uICggcmVzcG9uc2UgKSB7XG4gICAgICAgIGV4cGVjdCggcmVzcG9uc2Uuc3RhdHVzICkudG9FcXVhbCggMjAwIClcbiAgICAgICAgZXhwZWN0KCByZXNwb25zZS5ib2R5Lmpzb24gKS50b0VxdWFsKCB7XG4gICAgICAgICAgICBuYW1lOiBcImZvb2JhclwiXG4gICAgICAgIH0gKVxuICAgIH0gKVxufSApXG5cbnRlc3QoIFwiaGFuZGxpbmcgYW4gZXJyb3Igd2hlbiBwb3N0aW5nIHRvIGludmFsaWQgdXJpXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBodHRwID0gbmV3IEhUVFAoIFwiaHR0cHM6Ly9odHRwYmluLm9yZ1wiIClcblxuICAgIHJldHVybiBodHRwLnBvc3QoIFwiL2ludmFsaWRcIiwge30gKS50aGVuKCBmdW5jdGlvbiAoIHJlc3BvbnNlICkge1xuICAgICAgICBleHBlY3QoIHJlc3BvbnNlLnN0YXR1cyApLnRvRXF1YWwoIDQwNCApXG4gICAgfSApXG59IClcbiJdfQ==